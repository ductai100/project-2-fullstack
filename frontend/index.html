<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>Project 2 – Python Fullstack</title>
  <style>
    body { font-family: Arial; padding: 40px }
    input { padding: 8px; width: 200px }
    button { padding: 8px }
    li { margin-top: 6px }
  </style>
</head>
<body>

<h2>Project 2 – Python + Vercel</h2>

<input id="text" placeholder="Nhập nội dung..." />
<button onclick="addItem()">Add</button>

<ul id="list"></ul>

<script>
const API = "/api/items";

async function loadItems() {
  const res = await fetch(API);
  const items = await res.json();
  const list = document.getElementById("list");
  list.innerHTML = "";
  items.forEach(i => {
    const li = document.createElement("li");
    li.innerText = i.text;
    list.appendChild(li);
  });
}

async function addItem() {
  const input = document.getElementById("text");
  const value = input.value.trim();
  if (!value) return alert("Chưa nhập gì");

  const res = await fetch(API, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ text: value })
  });

  if (!res.ok) {
    alert("Add failed");
    return;
  }

  input.value = "";
  loadItems();
}

loadItems();
</script>

</body>
</html>
